# SoulChess
- 前言
> 目前处于求职阶段，以此记录个人开发的进度，项目仍处于雏形，如果有感兴趣可以查看开发文档的介绍。项目实际上线的话会删除该项目源码。微信小程序开发，先打算处理游戏的主要功能。
### 记录
- 游戏功能的实现
> - 使用canvas画布实现。由于棋类游戏需要频繁的渲染页面，大量的操作DOM元素会让页面性能太差。故选用canvas，通过canvas.drawImage()实现棋盘，棋子的绘制，图片自己找素材切的。棋子的移动基于保存在页面中的选中状态，处理边界问题与不合理的棋子移动到友军禁止的操作，设计之初 就是有棋子可移动越过友军到达另一个坐标，但无吃棋子友军。 

### 问题解决与思索
- 棋子为选中状态渲染可移动的位置
> 创建一个数组类型arcPos，该类型存放一个数组，即二维数组。一开始想着为了数组的纯净（即数组顺序存放）方向去做，通过for(let i = 0;;i++)因为这种遍历数组最快，后发现在编码过程中显得十分困难。困难在每当我读到一个棋子的坐标是‘脏’的数据，我就得取消并记录再开始循环，否则数组的某个I 就会被跳过。于是转换思路，在可以预见的常熟次循环里这点空间消耗其实无关紧要。敲定一条线上的起始点与结束点进行循环并赋值保存到arcPos里。对起始点与结束点进行边界处理确保循环次数的正确。遇到友军棋子continue开启下次循环。虽有空间浪费但可以接受。斜线方向令我苦想，想出的解决方案是保存四个二维数组，同时对边界问题进行处理。感觉是个繁琐的写法。
  获取到arcPos之后，把计算出该渲染的第X个方块，第Y个方块的中心点进行渲染。通过canvas.arc() 进行小圆点渲染即可。
- 点击移动之后渲染为原画布
> 读取arcPos数组进行循环渲染即可
